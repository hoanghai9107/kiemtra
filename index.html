<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>Ki·ªÉm tra T·ª± lu·∫≠n K·∫ø to√°n</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 30px; max-width: 800px; }
        textarea { width: 100%; height: 150px; }
        button { padding: 10px 20px; margin-top: 10px; }
        .hidden { display: none; }
    </style>
</head>
<body>
    <h2>üìò C√¢u h·ªèi <span id="soCau"></span>:</h2>
    <p id="cauHoi"></p>

    <h3>‚úçÔ∏è Tr·∫£ l·ªùi c·ªßa b·∫°n:</h3>
    <textarea id="traLoi"></textarea><br>
    <button onclick="kiemTra()">Ki·ªÉm tra</button>

    <h3>üìä K·∫øt qu·∫£:</h3>
    <p id="ketQua"></p>

    <button onclick="cauTiepTheo()" id="btnTiep" class="hidden">Ti·∫øp t·ª•c</button>

    <script>
        const boDe = [
            {
                cauHoi: "T√≠nh t·ªïng 2+2=.",
                dapAn: "4"
            },
            {
                cauHoi: "T√≠nh 4+2*3=.",
                dapAn: "10"
            },
            {
                cauHoi: "T√≠nh 100:2=",
                dapAn: "50"
            },
            {
                cauHoi: "T√≠nh 4^2=.",
                dapAn: "16"
            }
        ];

        let chiSo = 0;

        function hienThiCauHoi() {
            document.getElementById("traLoi").value = "";
            document.getElementById("ketQua").innerText = "";
            document.getElementById("btnTiep").classList.add("hidden");

            if (chiSo < boDe.length) {
                document.getElementById("soCau").innerText = (chiSo + 1) + "/" + boDe.length;
                document.getElementById("cauHoi").innerText = boDe[chiSo].cauHoi;
            } else {
                document.body.innerHTML = "<h2>üéâ B·∫°n ƒë√£ ho√†n th√†nh b√†i ki·ªÉm tra!</h2>";
            }
        }

        function tinhDoGiong(str1, str2) {
            const word1 = str1.toLowerCase().split(/\W+/);
const word2 = str2.toLowerCase().split(/\W+/);
            const giong = word1.filter(w => word2.includes(w));
            return giong.length / Math.max(word1.length, word2.length);
        }

        function kiemTra() {
            const traLoi = document.getElementById("traLoi").value;
            const dapAn = boDe[chiSo].dapAn;
            const doGiong = tinhDoGiong(traLoi, dapAn);
            let danhGia = "";

            if (doGiong > 0.8) danhGia = "‚úÖ ƒê√∫ng!";
            else if (doGiong > 0.5) danhGia = "üü° G·∫ßn ƒë√∫ng. B·∫°n c·∫ßn b·ªï sung.";
            else danhGia = "‚ùå Sai.  " ;

            document.getElementById("ketQua").innerText = danhGia;
            document.getElementById("btnTiep").classList.remove("hidden");
        }

        function cauTiepTheo() {
            chiSo++;
            hienThiCauHoi();
        }

        // B·∫Øt ƒë·∫ßu
        hienThiCauHoi();
    </script>
</body>
</html>
